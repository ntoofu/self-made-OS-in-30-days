# FAT12 floppy disk

.byte 0xeb, 0x4e, 0x90
.ascii "HELLOIPL"
.word 512 # bytes per sector
.byte 1 # sectors per cluster
.word 1 # number of reserced sectors
.byte 2 # number of FATs
.word 224 # maximum number of root directory entries
.word 2880 # total sector count
.byte 0xf0 # ignored (media type?)
.word 9 # sectors per FAT
.word 18 # sectors per track
.word 2 # number of heads
.int 0 # ignored
.int 2880 # total sector cound for FAT32
.byte 0, 0 # ignored
.byte 0x29 # boot signature
.int 0xffffffff #volume id
.ascii "HELLO-OS   " # volume label (11bytes)
.ascii "FAT12   " # File system type (8bytes)
.skip 18, 0 # ignored; rest of boot sector

# Program
.byte 0xb8, 0x00, 0x00, 0x8e, 0xd0, 0xbc, 0x00, 0x7c
.byte 0x8e, 0xd8, 0x8e, 0xc0, 0xbe, 0x74, 0x7c, 0x8a
.byte 0x04, 0x83, 0xc6, 0x01, 0x3c, 0x00, 0x74, 0x09
.byte 0xb4, 0x0e, 0xbb, 0x0f, 0x00, 0xcd, 0x10, 0xeb
.byte 0xee, 0xf4, 0xeb, 0xfd

# message
.byte 0x0a, 0x0a
.ascii "Hello, world"
.byte 0x0a
.byte 0
.org 0x1fe, 0

.byte 0x55, 0xaa

# misc
.byte 0xf0, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00
.skip 4600

.byte 0xf0, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00
.skip 1469432
